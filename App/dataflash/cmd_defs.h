/*
 * The Clear BSD License
 * Copyright (c) 2018 Adesto Technologies Corporation, Inc
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted (subject to the limitations in the disclaimer below) provided
 *  that the following conditions are met:
 *
 * o Redistributions of source code must retain the above copyright notice, this list
 *   of conditions and the following disclaimer.
 *
 * o Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 *
 * o Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from this
 *   software without specific prior written permission.
 *
 * NO EXPRESS OR IMPLIED LICENSES TO ANY PARTY'S PATENT RIGHTS ARE GRANTED BY THIS LICENSE.
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

/*!
 * @ingroup ADESTO_LAYER
 */
/*!
 * @file cmd_defs.h
 * @brief Definitions for opcodes.
 */
#ifndef CMD_DEFS_H_
#define CMD_DEFS_H_

#include "user_config.h"

#define MAXIMUM_TX_BYTES 500
#define MAXIMUM_RX_BYTES 500
#define MAXIMUM_BUFFER_SIZE 500

#define RM331x 		1
#define AT25XE512C 	2
#define AT25XE011 	3
#define AT25XE021A 	4
#define AT25XE041B 	5
#define AT25DN256 	6
#define AT25DN512C 	7
#define AT25DN011 	8
#define AT25DF256 	9
#define AT25DF512C 	10
#define AT25DF011 	11
#define AT25DF021A 	12
#define AT25DF041B 	13
#define AT25XV021A 	14
#define AT25XV041B 	15
#define AT45DB021E 	16
#define AT45DB041E 	17
#define AT45DB081E 	18
#define AT45DB161E 	19
#define AT45DB321E 	20
#define AT45DB641E 	21
#define AT45DQ161 	22
#define AT45DQ321 	23
#define AT25PE20 	24
#define AT25PE40 	25
#define AT25PE80 	26
#define AT25PE16 	27
#define AT25SF041 	28
#define AT25SF081 	29
#define AT25SF161 	30
#define AT25SF321 	31
#define AT25SF641 	32
#define AT25SL321 	33
#define AT25SL641 	34
#define AT25SL128A 	35
#define AT25DL081 	36
#define AT25DL161 	37
#define AT25DF081A 	38
#define AT25DF321A 	39
#define AT25DF641A 	40
#define AT25QL321 	41
#define AT25QL641 	42
#define AT25QL128A 	43
#define AT25QF641 	44

// Moneta commands
#if (PARTNO == RM331x)|| \
	(ALL == 1)
#define CMD_MONETA_WRITE_ENABLE  	   0x06
#define CMD_MONETA_WRITE_DISABLE 	   0x04
#define CMD_MONETA_READ_SRB1 	 	   0x05
#define CMD_MONETA_WRITE_SRB1 	 	   0x01
#define CMD_MONETA_WRITE_SRB2 	 	   0x31
#define CMD_MONETA_READ_ARRAY 	 	   0x03
#define CMD_MONETA_WRITE_ARRAY 	 	   0x02
#define CMD_MONETA_READ_MID		 	   0x9F
#define CMD_MONETA_UDPD_MODE1	 	   0x79
#endif

/*!
 * @brief Fusion Devices and Opcodes
 * AT25XE512C
 * AT25XE011
 * AT25XE021A
 * AT25XE041B
 * AT25DN256
 * AT25DN512C
 * AT25DN011
 * AT25DF256
 * AT25DF512C
 * AT25DF011
 * AT25DF021A
 * AT25DF041B
 * AT25XV021A
 * AT25XV041B
 */
#if	(PARTNO == AT25XE512C)	|| \
	(PARTNO == AT25XE011)	|| \
	(PARTNO == AT25XE021A)	|| \
	(PARTNO == AT25XE041B)	|| \
	(PARTNO == AT25DN256)	|| \
	(PARTNO == AT25DN512C)	|| \
	(PARTNO == AT25DN011)	|| \
	(PARTNO == AT25DF256)	|| \
	(PARTNO == AT25DF512C)	|| \
	(PARTNO == AT25DF011)	|| \
	(PARTNO == AT25DF021A)	|| \
	(PARTNO == AT25DF041B)	|| \
	(PARTNO == AT25XV021A)	|| \
	(PARTNO == AT25XV041B)  || \
	(ALL == 1)
#define CMD_FUSION_RESET_CONFIRMATION  		0xD0
#define CMD_FUSION_READ_ARRAY 		   		0x0B
#define CMD_FUSION_READ_ARRAY_LF 	   		0x03
#define CMD_FUSION_DUAL_OUTPUT_READ	   		0x3B
#define CMD_FUSION_PAGE_ERASE		   		0x81
#define CMD_FUSION_BLOCK_ERASE_4K	   		0x20
#define CMD_FUSION_BLOCK_ERASE_32K	   		0x52
#define CMD_FUSION_CHIP_ERASE		   		0x60
#define CMD_FUSION_PROGRAM_ARRAY	   		0x02
#define CMD_FUSION_WRITE_ENABLE		   		0x06
#define CMD_FUSION_WRITE_DISABLE	   		0x04
#define CMD_FUSION_PROGRAM_OTP_REGISTER 	0x9B
#define CMD_FUSION_READ_OTP_REGISTER		0x77
#define CMD_FUSION_READ_SR			   		0x05
#define CMD_FUSION_WRITE_SRB1 	 	   		0x01
#define CMD_FUSION_WRITE_SRB2 	 	   		0x31
#define CMD_FUSION_RESET			   		0xF0
#define CMD_FUSION_READ_MID 		   		0x9F
#define CMD_FUSION_DEEP_POWER_DOWN	   		0xB9
#define CMD_FUSION_RESUME_FROM_DPD	   		0xAB
#define CMD_FUSION_UDPD_MODE		   		0x79
#endif
#if	(PARTNO == AT25XE021A)	|| \
	(PARTNO == AT25XE041B)	|| \
	(PARTNO == AT25DF021A)	|| \
	(PARTNO == AT25DF041B)	|| \
	(PARTNO == AT25XV021A)	|| \
	(PARTNO == AT25XV041B)  || \
	(ALL == 1)
#define CMD_FUSION_SQNTL_PROGRAM_MODE  		0xAD
#define CMD_FUSION_DUAL_INPUT_PROGRAM  		0xA2
#define CMD_FUSION_PROTECT_SECTOR	   		0x36
#define CMD_FUSION_UNPROTECT_SECTOR    		0x39
#define CMD_FUSION_PROTECTION_REGISTER 		0x3C
#define CMD_FUSION_ACTIVE_STATUS_INTERRUPT	0x25
#endif


/*!
 * @brief Dataflash Devices and Opcodes
 *  AT45DB021E
 * 	AT45DB041E
 * 	AT45DB081E
 * 	AT45DB161E
 * 	AT45DB321E
 * 	AT45DB641E
 * 	AT45DQ161
 * 	AT45DQ321
 * 	AT25PE20
 * 	AT25PE40
 * 	AT25PE80
 * 	AT25PE16
 */
#if (PARTNO == AT45DB021E) || \
	(PARTNO == AT45DB041E) || \
	(PARTNO == AT45DB081E) || \
	(PARTNO == AT45DB161E) || \
	(PARTNO == AT45DB321E) || \
	(PARTNO == AT45DB641E) || \
	(PARTNO == AT45DQ161)  || \
	(PARTNO == AT45DQ321)  || \
	(PARTNO == AT25PE20)   || \
	(PARTNO == AT25PE40)   || \
	(PARTNO == AT25PE80)   || \
	(PARTNO == AT25PE16)   || \
	(ALL == 1)
#define CMD_DATAFLASH_MEM_PAGE_READ				0xD2
#define CMD_DATAFLASH_ARRAY_READ_LP				0x01
#define CMD_DATAFLASH_ARRAY_READ_LF				0x03
#define CMD_DATAFLASH_ARRAY_READ_HF0			0x0B
#define CMD_DATAFLASH_ARRAY_READ_HF1			0x1B
#define CMD_DATAFLASH_ARRAY_READ_LEG			0xE8
#define CMD_DATAFLASH_BUFFER1_READ_LF			0xD1
#define CMD_DATAFLASH_BUFFER1_READ_HF			0xD4
#define CMD_DATAFLASH_BUFFER1_WRITE				0x84
#define CMD_DATAFLASH_BUF1_2MEM_W_ERASE			0x83
#define CMD_DATAFLASH_BUF1_2MEM_WO_ERASE		0x88
#define CMD_DATAFLASH_MEM_PRGM_BUF1_W_ERASE		0x82
#define CMD_DATAFLASH_MEM_PRGM_BUF1_WO_ERASE	0x02
#define CMD_DATAFLASH_PAGE_ERASE				0x81
#define CMD_DATAFLASH_BLOCK_ERASE				0x50
#define CMD_DATAFLASH_SECTOR_ERASE				0x7C
#define CMD_DATAFLASH_CHIP_ERASE				0xC794809A
#define CMD_DATAFLASH_RD_MOD_WR_THRU_BUF1		0x58
#define CMD_DATAFLASH_ENABLE_SECT_PROTECTION	0x3D2A7FA9
#define CMD_DATAFLASH_DISABLE_SECT_PROTECTION	0x3D2A7F9A
#define CMD_DATAFLASH_ERASE_SECT_PROT_REG		0x3D2A7FCF
#define CMD_DATAFLASH_PROGRAM_SECT_PROT_REG		0x3D2A7FFC
#define CMD_DATAFLASH_READ_SECT_PROT_REG		0x32
#define CMD_DATAFLASH_READ_SECURITY_REG			0x77
#define CMD_DATAFLASH_MEM_BUF1_TRANSFER			0x53
#define CMD_DATAFLASH_MEM_BUF1_COMPARE			0x60
#define CMD_DATAFLASH_AUTO_PAGE_REWRITE1		0x58
#define CMD_DATAFLASH_DEEP_POWER_DOWN			0xB9
#define CMD_DATAFLASH_RESUME_FROM_DPD			0xAB
#define CMD_DATAFLASH_UDPD_MODE					0x79
#define CMD_DATAFLASH_READ_SR					0xD7
#define CMD_DATAFLASH_READ_MID					0x9F
#define CMD_DATAFLASH_CONFIGURE_P2_PG_SIZE		0x3D2A80A6
#define CMD_DATAFLASH_CONFIGURE_STD_PG_SIZE		0x3D2A80A7
#define CMD_DATAFLASH_SOFTWARE_RESET			0xF0000000
#define CMD_DATAFLASH_BUF1_READ_LEG				0x54
#define CMD_DATAFLASH_MEM_PAGE_READ_LEG			0x52
#define CMD_DATAFLASH_CONTINUOUS_ARRAY_READ_LEG	0x68
#define CMD_DATAFLASH_SR_READ_LEG				0x57
#endif
#if (PARTNO == AT45DQ161) || \
	(PARTNO == AT45DQ321) || \
	(ALL == 1)
#define CMD_DATAFLASH_DUAL_OUTPUT_READ_ARRAY	0x3B
#define CMD_DATAFLASH_QUAD_OUTPUT_READ_ARRAY	0x6B
#define CMD_DATAFLASH_DUAL_INPUT_BUFFER1_WRITE	0x24
#define CMD_DATAFLASH_DUAL_INPUT_BUFFER2_WRITE	0x27
#define CMD_DATAFLASH_QUAD_INPUT_BUFFER1_WRITE	0x44
#define CMD_DATAFLASH_QUAD_INPUT_BUFFER2_WRITE	0x47
#define CMD_DATAFLASH_READ_CONFIG_REGISTER	 	0x3F
#define CMD_DATAFLASH_QUAD_ENABLE		 		0x3D2A8166
#define CMD_DATAFLASH_QUAD_DISABLE 				0x3D2A8167
#endif
#if (PARTNO == AT45DB021E) || \
	(PARTNO == AT45DB041E) || \
	(PARTNO == AT45DB081E) || \
	(PARTNO == AT45DB161E) || \
	(PARTNO == AT45DB321E) || \
	(PARTNO == AT45DB641E) || \
	(PARTNO == AT45DQ161)  || \
	(PARTNO == AT45DQ321)  || \
	(ALL == 1)
#define CMD_DATAFLASH_PROGRAM_ERASE_SUSPEND		0xB0
#define CMD_DATAFLASH_PROGRAM_ERASE_RESUME		0xD0
#define CMD_DATAFLASH_SECTOR_LOCKDOWN			0x3D2A7F30
#define CMD_DATAFLASH_READ_SECT_LOCK_REG		0x35
#define CMD_DATAFLASH_FREEZE_SECTOR_LOCKDOWN	0x3455AA40
#define CMD_DATAFLASH_PROGRAM_SECURITY_REG		0x9B000000
#endif
#if (PARTNO == AT45DB021E) || \
	(PARTNO == AT45DB041E) || \
	(PARTNO == AT45DB081E) || \
	(PARTNO == AT45DB161E) || \
	(PARTNO == AT45DB321E) || \
	(PARTNO == AT45DB641E) || \
	(PARTNO == AT45DQ161)  || \
	(PARTNO == AT45DQ321)  || \
	(PARTNO == AT25PE40)   || \
	(PARTNO == AT25PE80)   || \
	(PARTNO == AT25PE16)   || \
	(ALL == 1)
#define CMD_DATAFLASH_BUFFER2_READ_LF			0xD3
#define CMD_DATAFLASH_BUFFER2_READ_HF			0xD6
#define CMD_DATAFLASH_BUFFER2_WRITE				0x87
#define CMD_DATAFLASH_BUF2_2MEM_W_ERASE			0x86
#define CMD_DATAFLASH_BUF2_2MEM_WO_ERASE		0x89
#define CMD_DATAFLASH_MEM_PRGM_BUF2_W_ERASE		0x85
#define CMD_DATAFLASH_RD_MOD_WR_THRU_BUF2		0x59
#define CMD_DATAFLASH_MEM_BUF2_TRANSFER			0x55
#define CMD_DATAFLASH_MEM_BUF2_COMPARE			0x61
#define CMD_DATAFLASH_AUTO_PAGE_REWRITE2		0x59
#define CMD_DATAFLASH_BUF2_READ_LEG				0x56
#endif

/*!
 * @brief Standardflash Devices and Opcodes
 * AT25SF041
 * AT25SF081
 * AT25SF161
 * AT25SF321
 * AT25SF641
 * AT25SL321
 * AT25SL641
 * AT25SL128A
 * AT25DL081
 * AT25DL161
 * AT25DF081A
 * AT25DF321A
 * AT25DF641A
 * AT25QL321
 * AT25QL641
 * AT25QL128A
 * AT25QF641
 */
#if (PARTNO == AT25SF641) 	|| \
	(PARTNO == AT25SF321)	|| \
	(PARTNO == AT25SF161) 	|| \
	(PARTNO == AT25SF081) 	|| \
	(PARTNO == AT25SF041) 	|| \
	(PARTNO == AT25SL128A) 	|| \
	(PARTNO == AT25SL641) 	|| \
	(PARTNO == AT25SL321) 	|| \
	(PARTNO == AT25DL081) 	|| \
	(PARTNO == AT25DL161) 	|| \
	(PARTNO == AT25DF081A) 	|| \
	(PARTNO == AT25DF321A) 	|| \
	(PARTNO == AT25DF641A) 	|| \
	(PARTNO == AT25QL128A) 	|| \
 	(PARTNO == AT25QL641) 	|| \
	(PARTNO == AT25QL321) 	|| \
	(PARTNO == AT25QF641)   || \
	(ALL == 1)
#define CMD_STANDARDFLASH_WRITE_ENABLE				0x06
#define CMD_STANDARDFLASH_WRITE_DISABLE				0x04
#define CMD_STANDARDFLASH_READ_ARRAY_LF				0x03
#define CMD_STANDARDFLASH_READ_ARRAY_HF				0x0B
#define CMD_STANDARDFLASH_BYTE_PAGE_PROGRAM			0x02
#define CMD_STANDARDFLASH_BLOCK_ERASE_4K			0x20
#define CMD_STANDARDFLASH_BLOCK_ERASE_32K			0x52
#define CMD_STANDARDFLASH_BLOCK_ERASE_64K			0xD8
#define CMD_STANDARDFLASH_CHIP_ERASE1				0x60
#define CMD_STANDARDFLASH_CHIP_ERASE2				0xC7
#define CMD_STANDARDFLASH_DEEP_POWER_DOWN			0xB9
#define CMD_STANDARDFLASH_RESUME_FROM_DPD			0xAB
#define CMD_STANDARDFLASH_READ_ID					0x90
#define CMD_STANDARDFLASH_READ_MID					0x9F
#endif
#if (PARTNO == AT25SF321)	|| \
	(PARTNO == AT25SF161) 	|| \
	(PARTNO == AT25SF081) 	|| \
	(PARTNO == AT25SF041) 	|| \
	(ALL == 1)
#define CMD_STANDARDFLASH_WRITE_SR					0x01
#endif
#if (PARTNO == AT25SF641) 	|| \
	(PARTNO == AT25SL128A) 	|| \
	(PARTNO == AT25SL641) 	|| \
	(PARTNO == AT25SL321) 	|| \
	(PARTNO == AT25DL081) 	|| \
	(PARTNO == AT25DL161) 	|| \
	(PARTNO == AT25DF081A) 	|| \
	(PARTNO == AT25DF321A) 	|| \
	(PARTNO == AT25DF641A) 	|| \
	(PARTNO == AT25QL128A) 	|| \
 	(PARTNO == AT25QL641) 	|| \
	(PARTNO == AT25QL321) 	|| \
	(PARTNO == AT25QF641)   || \
	(ALL == 1)
#define CMD_STANDARDFLASH_WRITE_SRB1				0x01
#define CMD_STANDARDFLASH_WRITE_SRB2				0x31
#endif
#if (PARTNO == AT25SF641) 	|| \
	(PARTNO == AT25SF321)	|| \
	(PARTNO == AT25SF161) 	|| \
	(PARTNO == AT25SF081) 	|| \
	(PARTNO == AT25SF041) 	|| \
	(PARTNO == AT25SL128A) 	|| \
	(PARTNO == AT25SL641) 	|| \
	(PARTNO == AT25SL321) 	|| \
	(PARTNO == AT25QL128A) 	|| \
 	(PARTNO == AT25QL641) 	|| \
	(PARTNO == AT25QL321) 	|| \
	(PARTNO == AT25QF641)   || \
	(ALL == 1)
#define CMD_STANDARDFLASH_WE_FOR_VOLATILE_SR			0x50
#define CMD_STANDARDFLASH_WRITE_SR						0x01
#define CMD_STANDARDFLASH_READ_SRB1						0x05
#define CMD_STANDARDFLASH_READ_SRB2						0x35
#define CMD_STANDARDFLASH_DUAL_OUTPUT_READ				0x3B
#define CMD_STANDARDFLASH_DUAL_IO_READ					0xBB
#define CMD_STANDARDFLASH_QUAD_OUTPUT_READ				0x6B
#define CMD_STANDARDFLASH_QUAD_IO_READ					0xEB
#define CMD_STANDARDFLASH_CONT_READ_MODE_RST_DUAL		0xFFFF
#define CMD_STANDARDFLASH_CONT_READ_MODE_RST_QUAD		0xFF
#define CMD_STANDARDFLASH_ERASE_SECURTIY_REG_PAGE		0x44
#define CMD_STANDARDFLASH_PROGRAM_SECURITY_REG_PAGE		0x42
#define CMD_STANDARDFLASH_READ_SECURITY_REG_PAGE		0x48
#define CMD_STANDARDFLASH_RESUME_FROM_DPD_READ_ID		0xAB
#define CMD_STANDARDFLASH_QUAD_PAGE_PROGRAM				0x33
#endif
#if (PARTNO == AT25SF641) 	|| \
	(PARTNO == AT25SF321)	|| \
	(PARTNO == AT25SF161) 	|| \
	(PARTNO == AT25SL128A) 	|| \
	(PARTNO == AT25SL641) 	|| \
	(PARTNO == AT25SL321) 	|| \
	(PARTNO == AT25QL128A) 	|| \
 	(PARTNO == AT25QL641) 	|| \
	(PARTNO == AT25QL321) 	|| \
	(PARTNO == AT25QF641)   || \
	(ALL == 1)
#define CMD_STANDARDFLASH_ERASE_PROGRAM_SUSPEND		0x75
#define CMD_STANDARDFLASH_ERASE_PROGRAM_RESUME		0x7A
#endif
#if (PARTNO == AT25SF641) 	|| \
	(PARTNO == AT25SL128A) 	|| \
	(PARTNO == AT25SL641) 	|| \
	(PARTNO == AT25SL321) 	|| \
	(PARTNO == AT25QL128A) 	|| \
 	(PARTNO == AT25QL641) 	|| \
	(PARTNO == AT25QL321) 	|| \
	(PARTNO == AT25QF641)   || \
	(ALL == 1)
#define CMD_STANDARDFLASH_ENABLE_QPI				0x38
#define CMD_STANDARDFLASH_DISABLE_QPI				0xFF
#define CMD_STANDARDFLASH_ENABLE_RESET				0x66
#define CMD_STANDARDFLASH_RESET						0x99
#define CMD_STANDARDFLASH_ENTER_SECURED_OTP			0xB1
#define CMD_STANDARDFLASH_EXIT_SECURED_OTP			0xC1
#endif
#if (PARTNO == AT25DL081) 	|| \
	(PARTNO == AT25DL161) 	|| \
	(PARTNO == AT25DF081A) 	|| \
	(PARTNO == AT25DF321A) 	|| \
	(PARTNO == AT25DF641A)  || \
	(ALL == 1)
#define CMD_STANDARDFLASH_READ_SR					0x05
#define CMD_STANDARDFLASH_DUAL_BYTE_PAGE_PROGRAM 	0xA2
#define CMD_STANDARDFLASH_PROGRAM_ERASE_SUSPEND		0xB0
#define CMD_STANDARDFLASH_PROGRAM_ERASE_RESUME 		0xD0
#define CMD_STANDARDFLASH_PROTECT_SECTOR 			0x36
#define CMD_STANDARDFLASH_UNPROTECT_SECTOR 			0x39
#define CMD_STANDARDFLASH_READ_SECT_PROT_REG 		0x3C
#define CMD_STANDARDFLASH_FREEZE_LOCKDOWN_STATE 	0x34
#define CMD_STANDARDFLASH_READ_LOCKDOWN_REG 		0x35
#define CMD_STANDARDFLASH_PROGRAM_OTP_REG			0x9B
#endif

#if (PARTNO < 1)
#error Invalid PARTNO.
#elif (PARTNO < 2)
#define MONETA_DEVICE
#elif (PARTNO < 16)
#define FUSION_DEVICE
#elif (PARTNO < 28)
#define DATAFLASH_DEVICE
#elif (PARTNO < 45)
#define STANDARDFLASH_DEVICE
#else
#error Part number not defined.
#endif

#endif /* CMD_DEFS_H_ */
